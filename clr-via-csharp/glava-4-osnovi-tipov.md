# Глава 4. Основы типов

### Как разные компоненты взаимодействуют во время выполнения

#### Вызовы методов и стек

1. Начало выполнения метода - выделяется место в стеке для локальных переменных
2. Метод выполняется и доходит до вызова другого метода
3. В стек помещаются параметры вызываемого метода
4. В стек помещается адрес возврата из метода - адрес в памяти с которого нужно продолжит выполнение после окончания вызываемого метода
5. Начинается выполнение вызываемого метода
6. Выделяется место на стеке для локальных переменных
7. Метод выполняется до конца и доходит до команды возврата из метода
8. В указатель команд процессора помещается адрес возврата из метода и стековый кадр метода, который выполнялся очищается
9. Продолжается выполнение вызывающего метода

#### Объекты типы и CLR

В процессе JIT-компиляции метода CLR находит ссылки на типы. CLR загружает в домен приложений все эти типы, используя метаданные сборки получает информацию о типах и создаёт структуры данных представляющих эти типы == _**Создаёт в куче объекты-типы - именно эти объекты типы содержат таблицы методов определённых в типе - то что обсуждалось в главе 1 \(похоже что так\) - если так, то получается, что таблица методов типа находится не в метаданных модуля, а в объекте-типе, непонятно.**_



