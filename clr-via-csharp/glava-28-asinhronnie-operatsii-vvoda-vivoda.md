# Глава 28. Асинхронные операции ввода-вывода

### Операции ввода-вывода в Windows

При асинхронной операции ввода-вывода работа уходит драйверу устройства и поток не блокируется операцией, а ему возвращается управление.

**Написано, что закончив обработку IRP-пакета устройство \(драйвер?\) помещает делегат в очередь пула потоков - Непонятно, а что если требуется, чтобы запрос обслужил конкретный поток? Тут контекст синхронизации как-то используется?**

### Асинхронные функции CSharp

### Асинхронные функции и обработчики событий

Обработчики событий в большинстве случаев возвращают void. Если хочется, чтобы обработчик события был асинхронным мы можем захотеть использовать асинхронную функцию в качестве обработчика события \(чтобы использовать в функции await - нужно чтобы функция была помечена async\). При этом обработчик события будет вызываться не асинхронно \(без await\), но нам необходимо, чтобы асинхронная функция развернулась в конечный автомат и асинхронно отработала до конца не блокируя вызывающий поток выполнения.

Для этой возможности асинхронные функции поддерживают возвращаемый результат в виде void. При вызове такой функции будет развёрнут конечный автомат выполнения, но вызывающий поток не будет заблокирован ожиданием выполнения функции до конца. Из этого следует недостаток - вызывающий поток не сможет узнать, что вызываемая функция завершилась.



**TODO Прочитать про именованные пайпы**

